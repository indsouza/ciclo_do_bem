{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5">

  <!-- Nome do Estabelecimento -->
  <h2 class="text-center mb-5 text-primary fw-bold">{{ estabelecimento.nome_fantasia }}</h2>

  <div class="row g-4">

    <!-- Bloco 1: Logo e Informações Gerais -->
    <div class="col-12">
      <div class="card p-4 shadow-sm rounded-3 bg-light">
        <div class="text-center mb-3">
          {% if estabelecimento.logo %}
            <img src="{{ estabelecimento.logo.url }}" class="rounded-circle border border-2 border-primary p-1" width="120">
          {% endif %}
        </div>
        <h5 class="fw-bold mb-3"><i class="bi bi-info-circle me-2"></i>Informações Gerais</h5>
        <p><i class="bi bi-envelope me-2 text-primary"></i><strong>Email:</strong> {{ estabelecimento.email }}</p>
        <p><i class="bi bi-building me-2 text-primary"></i><strong>Razão Social:</strong> {{ estabelecimento.razao_social }}</p>
        <p><i class="bi bi-credit-card me-2 text-primary"></i><strong>CNPJ:</strong> {{ estabelecimento.cnpj }}</p>
        <p><i class="bi bi-telephone me-2 text-primary"></i><strong>Telefone:</strong> {{ estabelecimento.telefone }}</p>
        <p><i class="bi bi-geo-alt me-2 text-primary"></i><strong>Endereço:</strong> {{ estabelecimento.endereco }}, {{ estabelecimento.numero }}{% if estabelecimento.complemento %} - {{ estabelecimento.complemento }}{% endif %} - {{ estabelecimento.bairro }} - {{ estabelecimento.cidade }} - {{ estabelecimento.cep }}</p>
        <p><i class="bi bi-clock me-2 text-primary"></i><strong>Horário de Funcionamento:</strong> {{ estabelecimento.horario_inicio }} às {{ estabelecimento.horario_fim }}</p>
      </div>
    </div>

    <!-- Bloco 2: Responsável -->
    <div class="col-md-6">
      <div class="card p-4 shadow-sm rounded-3 bg-white h-100">
        <h5 class="fw-bold mb-3 text-secondary"><i class="bi bi-person-fill me-2"></i>Responsável</h5>
        <p><i class="bi bi-person me-2 text-success"></i><strong>Nome:</strong> {{ estabelecimento.nome_proprietario }}</p>
        <p><i class="bi bi-briefcase me-2 text-success"></i><strong>Função:</strong> {{ estabelecimento.cargo_funcao }}</p>
        <p><i class="bi bi-telephone me-2 text-success"></i><strong>Telefone:</strong> {{ estabelecimento.telefone_proprietario }}</p>
        <p><i class="bi bi-card-text me-2 text-success"></i><strong>RG:</strong> {{ estabelecimento.rg }}</p>
        <p><i class="bi bi-credit-card-2-front me-2 text-success"></i><strong>CPF:</strong> {{ estabelecimento.cpf }}</p>
      </div>
    </div>

    <!-- Bloco 3: Responsável Técnico -->
    {% if estabelecimento.responsavel_tecnico %}
    <div class="col-md-6">
      <div class="card p-4 shadow-sm rounded-3 bg-white h-100">
        <h5 class="fw-bold mb-3 text-secondary"><i class="bi bi-person-badge-fill me-2"></i>Responsável Técnico</h5>
        <p><i class="bi bi-person me-2 text-warning"></i><strong>Nome:</strong> {{ estabelecimento.responsavel_tecnico }}</p>
        <p><i class="bi bi-mortarboard me-2 text-warning"></i><strong>Formação:</strong> {{ estabelecimento.formacao_academica }}</p>
        <p><i class="bi bi-award me-2 text-warning"></i><strong>Conselho de Classe:</strong> {{ estabelecimento.conselho_classe }}</p>
      </div>
    </div>
    {% endif %}

    <!-- Bloco 4: Informações Adicionais -->
    <div class="col-12">
      <div class="card p-4 shadow-sm rounded-3 bg-light">
        <h5 class="fw-bold mb-3"><i class="bi bi-journal-text me-2"></i>Informações Adicionais</h5>
        <div class="row">
          <div class="col-md-3"><p><strong>Tipo:</strong> {{ estabelecimento.tipo_estabelecimento }}</p></div>
          <div class="col-md-3"><p><strong>Manipulação:</strong> {{ estabelecimento.tipo_manipulacao }}</p></div>
          <div class="col-md-3"><p><strong>Nº Funcionários:</strong> {{ estabelecimento.num_funcionarios }}</p></div>
          <div class="col-md-3"><p><strong>Licença Sanitária:</strong> {{ estabelecimento.num_licenca_sanitaria }}</p></div>
        </div>
      </div>
    </div>

  </div>

  <!-- Botão de Logout -->
  <div class="text-center mt-5">
    <a href="{% url 'estabelecimentos:logout_estabelecimento' %}" class="btn btn-danger btn-lg fw-bold">
      <i class="bi bi-box-arrow-right me-2"></i>Sair
    </a>
  </div>
</div>

<!-- Estilos adicionais -->
<style>
  .card p {
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
  }

  .card h5 {
    border-bottom: 2px solid #dee2e6;
    padding-bottom: 5px;
  }

  .card img {
    max-width: 120px;
  }

  .bg-light {
    background-color: #f8f9fa !important;
  }

  .text-primary {
    color: #0d6efd !important;
  }
</style>
{% endblock %}
